(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),r=e.i(71645);function s({message:e}){let r="user"===e.role;return(0,t.jsx)("div",{className:`message-enter flex ${r?"justify-end":"justify-start"}`,children:(0,t.jsxs)("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${r?"bg-[var(--primary)] text-white shadow-md":"bg-white border border-[var(--border)] shadow-sm text-[var(--foreground)]"}`,children:[e.image&&(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)("img",{src:e.image,alt:"Uploaded",className:"max-w-full max-h-48 rounded-lg"})}),(0,t.jsx)("p",{className:"whitespace-pre-wrap",children:e.content}),(0,t.jsx)("div",{className:`text-xs mt-2 ${r?"text-emerald-100":"text-[var(--muted)]"}`,children:e.timestamp.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})})]})})}function a({onSend:e,onImageUpload:s,disabled:a}){let[n,i]=(0,r.useState)(""),o=(0,r.useRef)(null),l=()=>{n.trim()&&!a&&(e(n.trim()),i(""))};return(0,t.jsxs)("div",{className:"flex items-end gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>o.current?.click(),disabled:a,className:"p-3 rounded-xl bg-white border border-[var(--border)] hover:bg-gray-50 text-[var(--foreground)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",title:"ÁîªÂÉè„Çí„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,t.jsx)("input",{ref:o,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/"))return void alert("ÁîªÂÉè„Éï„Ç°„Ç§„É´„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ");let r=new FileReader;r.onload=e=>{s(e.target?.result)},r.readAsDataURL(t),o.current&&(o.current.value="")},className:"hidden"}),(0,t.jsx)("div",{className:"flex-1 relative",children:(0,t.jsx)("textarea",{value:n,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),l())},placeholder:"„Çπ„É©„Ç§„Éâ„ÅÆÂÜÖÂÆπ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ...",disabled:a,rows:1,className:"w-full px-4 py-3 bg-white border border-[var(--border)] rounded-xl resize-none focus:outline-none focus:border-[var(--primary)] focus:ring-1 focus:ring-[var(--primary)] text-[var(--foreground)] transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",style:{minHeight:"48px",maxHeight:"200px"},onInput:e=>{let t=e.target;t.style.height="auto",t.style.height=`${Math.min(t.scrollHeight,200)}px`}})}),(0,t.jsx)("button",{type:"button",onClick:l,disabled:a||!n.trim(),className:"p-3 rounded-xl bg-[var(--primary)] hover:bg-[var(--primary-hover)] text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})}let n={web_search:{name:"WebÊ§úÁ¥¢",icon:"üîç",description:"„Éá„Ç∂„Ç§„É≥„Éà„É¨„É≥„Éâ„ÇíË™øÊüª‰∏≠"},reference_search:{name:"„É™„Éï„Ç°„É¨„É≥„ÇπÊ§úÁ¥¢",icon:"üìö",description:"ÂèÇÁÖß„Éá„Ç∂„Ç§„É≥„ÇíÊ§úÁ¥¢‰∏≠"},design:{name:"„Éá„Ç∂„Ç§„É≥Ë®≠Ë®à",icon:"üé®",description:"Ë®≠Ë®àJSON„ÇíÁîüÊàê‰∏≠"},generate:{name:"ÁîªÂÉè„ÉªPPTXÁîüÊàê",icon:"üìä",description:"ÁîªÂÉè„Å®PPTX„ÇíÁîüÊàê‰∏≠"},ask_feedback:{name:"„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ",icon:"üí¨",description:"„É¶„Éº„Ç∂„Éº„ÅÆÁ¢∫Ë™ç„ÇíÂæÖÊ©ü‰∏≠"},regenerate_background:{name:"ËÉåÊôØÂÜçÁîüÊàê",icon:"üñºÔ∏è",description:"ËÉåÊôØÁîªÂÉè„ÇíÂÜçÁîüÊàê‰∏≠"},update_text:{name:"„ÉÜ„Ç≠„Çπ„ÉàÊõ¥Êñ∞",icon:"‚úèÔ∏è",description:"„ÉÜ„Ç≠„Çπ„Éà„ÇíÊõ¥Êñ∞‰∏≠"}};function i({executions:e,thoughts:r,waitingFeedback:s,tracingSummary:a}){return(0,t.jsxs)("div",{className:"space-y-3",children:[r&&r.length>0&&(0,t.jsxs)("div",{className:"bg-indigo-50 border border-indigo-100 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-indigo-600 mb-3",children:[(0,t.jsx)("span",{children:"üß†"}),(0,t.jsx)("span",{children:"„Ç®„Éº„Ç∏„Çß„É≥„Éà„ÅÆÊÄùËÄÉ"})]}),(0,t.jsx)("div",{className:"space-y-2",children:r.slice(-3).map(e=>(0,t.jsx)("div",{className:"text-sm text-indigo-900 bg-white/50 border border-indigo-100 rounded-lg p-3",children:e.content},e.id))})]}),(0,t.jsxs)("div",{className:"bg-white border border-[var(--border)] rounded-xl p-4 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-[var(--muted)] mb-3",children:[(0,t.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,t.jsx)("span",{children:"„ÉÑ„Éº„É´ÂÆüË°åÁä∂Ê≥Å"}),(0,t.jsxs)("span",{className:"text-xs",children:["(",e.length,"‰ª∂)"]})]}),(0,t.jsx)("div",{className:"space-y-2",children:e.map(e=>{var r,s;let a,i=n[r=e.name]||{name:r,icon:"‚öôÔ∏è",description:"Âá¶ÁêÜ‰∏≠"};return(0,t.jsxs)("div",{className:`p-3 rounded-lg bg-gray-50 border border-gray-100 ${"running"===e.status?"tool-executing":""}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-lg",children:i.icon}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"font-medium text-sm text-[var(--foreground)]",children:i.name}),(0,t.jsx)("div",{className:"text-xs text-[var(--muted)]",children:"running"===e.status?i.description:(s=e.startTime,(a=(e.endTime||new Date).getTime()-s.getTime())<1e3?`${a}ms`:`${(a/1e3).toFixed(1)}s`)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 shrink-0",children:["running"===e.status&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"text-xs text-yellow-600",children:"ÂÆüË°å‰∏≠"})]}),"completed"===e.status&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,t.jsx)("span",{className:"text-xs text-emerald-600",children:"ÂÆå‰∫Ü"})]}),"error"===e.status&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,t.jsx)("span",{className:"text-xs text-red-600",children:"„Ç®„É©„Éº"})]})]})]}),"completed"===e.status&&e.result&&(0,t.jsxs)("div",{className:"mt-2 text-xs text-[var(--muted)] bg-white border border-gray-100 rounded p-2 max-h-16 overflow-hidden",children:[e.result.slice(0,150),"..."]})]},e.id)})})]}),s&&(0,t.jsxs)("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-emerald-600 mb-2",children:[(0,t.jsx)("span",{children:"üí¨"}),(0,t.jsx)("span",{children:"„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØÂæÖ„Å°"})]}),(0,t.jsx)("p",{className:"text-sm text-emerald-900",children:s.question})]}),a&&(0,t.jsx)("div",{className:"bg-white border border-[var(--border)] rounded-xl p-3 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-[var(--muted)]",children:[(0,t.jsxs)("span",{children:["üìä „Éà„Éº„ÇØ„É≥: ",a.totalTokens.toLocaleString()]}),(0,t.jsxs)("span",{children:["üí∞ „Ç≥„Çπ„Éà: $",a.totalCost.toFixed(4)]})]})})]})}function o({pptxPath:e,sessionId:s}){let[a,n]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[l,d]=(0,r.useState)(null),[c,x]=(0,r.useState)(null),[m,u]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{s&&e&&g()},[s,e]);let g=async()=>{if(s){p(!0);try{let e=await fetch(`/api/preview?sessionId=${s}`);if(e.ok){let t=await e.json();n(t.previewUrl),o(t.elements||[])}}catch(e){console.error("Failed to load preview:",e)}finally{p(!1)}}},b=e=>{d(e)},v=e=>{"text"===e.type&&(x(e.id),u(e.content||""))},j=async()=>{if(c&&s)try{(await fetch("/api/edit-element",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:s,elementId:c,content:m})})).ok&&(o(e=>e.map(e=>e.id===c?{...e,content:m}:e)),await g())}catch(e){console.error("Failed to save edit:",e)}finally{x(null),u("")}},f=()=>{x(null),u("")},w=async()=>{if(!s)return;let e=prompt("ËÉåÊôØ„ÅÆÂ§âÊõ¥ÂÜÖÂÆπ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ:");if(e){p(!0);try{(await fetch("/api/regenerate-background",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:s,feedback:e})})).ok&&await g()}catch(e){console.error("Failed to regenerate background:",e)}finally{p(!1)}}};return e?(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("button",{onClick:g,disabled:h||!e,className:"px-3 py-1.5 text-sm bg-white border border-[var(--border)] rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 text-[var(--foreground)]",children:"Êõ¥Êñ∞"}),(0,t.jsx)("button",{onClick:w,disabled:h||!e,className:"px-3 py-1.5 text-sm bg-white border border-[var(--border)] rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 text-[var(--foreground)]",children:"ËÉåÊôØ„ÇíÂÜçÁîüÊàê"}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)("button",{onClick:()=>{s&&window.open(`/api/download?sessionId=${s}`,"_blank")},disabled:!e,className:"px-3 py-1.5 text-sm bg-[var(--primary)] text-white rounded-lg hover:bg-[var(--primary-hover)] transition-colors disabled:opacity-50",children:"„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ"})]}),(0,t.jsxs)("div",{className:"flex-1 relative bg-gray-200 rounded-xl overflow-hidden shadow-inner",children:[h&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50 backdrop-blur-sm z-10",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-[var(--primary)] border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{className:"text-[var(--foreground)]",children:"Ë™≠„ÅøËæº„Åø‰∏≠..."})]})}),a?(0,t.jsxs)("div",{className:"relative w-full aspect-video",children:[(0,t.jsx)("img",{src:a,alt:"Slide preview",className:"w-full h-full object-contain"}),i.filter(e=>"text"===e.type).map(e=>(0,t.jsx)("div",{className:`absolute cursor-pointer transition-all ${l===e.id?"ring-2 ring-[var(--primary)]":"hover:ring-2 hover:ring-[var(--primary)]/50"}`,style:{left:`${(e.position?.x||0)/1920*100}%`,top:`${(e.position?.y||0)/1080*100}%`,width:`${(e.position?.width||100)/1920*100}%`,height:`${(e.position?.height||50)/1080*100}%`},onClick:()=>b(e.id),onDoubleClick:()=>v(e),children:c===e.id&&(0,t.jsxs)("div",{className:"absolute inset-0 bg-white/90 p-2 z-20 shadow-lg rounded",children:[(0,t.jsx)("textarea",{value:m,onChange:e=>u(e.target.value),className:"w-full h-full bg-transparent border border-[var(--primary)] rounded p-1 text-sm resize-none focus:outline-none text-black",autoFocus:!0}),(0,t.jsxs)("div",{className:"absolute -bottom-8 right-0 flex gap-1",children:[(0,t.jsx)("button",{onClick:j,className:"px-2 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700",children:"‰øùÂ≠ò"}),(0,t.jsx)("button",{onClick:f,className:"px-2 py-1 text-xs bg-gray-500 text-white rounded hover:bg-gray-600",children:"„Ç≠„É£„É≥„Çª„É´"})]})]})},e.id))]}):(0,t.jsx)("div",{className:"flex items-center justify-center h-full text-[var(--muted)]",children:"„Éó„É¨„Éì„É•„Éº„ÇíË™≠„ÅøËæº„Åø‰∏≠..."})]}),i.length>0&&(0,t.jsxs)("div",{className:"mt-4 p-3 bg-white border border-[var(--border)] rounded-xl shadow-sm",children:[(0,t.jsx)("div",{className:"text-sm text-[var(--muted)] mb-2",children:"Ë¶ÅÁ¥†‰∏ÄË¶ß"}),(0,t.jsx)("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:i.map(e=>(0,t.jsxs)("div",{className:`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ${l===e.id?"bg-[var(--primary)]/10 text-[var(--primary)]":"hover:bg-gray-50 text-[var(--foreground)]"}`,onClick:()=>b(e.id),onDoubleClick:()=>v(e),children:[(0,t.jsxs)("span",{className:"text-xs text-[var(--muted)]",children:["text"===e.type&&"üìù","background"===e.type&&"üñºÔ∏è","image"===e.type&&"üé®"]}),(0,t.jsx)("span",{className:"text-sm truncate flex-1",children:e.content||e.id}),"text"===e.type&&(0,t.jsx)("span",{className:"text-xs text-[var(--muted)]",children:"„ÉÄ„Éñ„É´„ÇØ„É™„ÉÉ„ÇØ„ÅßÁ∑®ÈõÜ"})]},e.id))})]})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-[var(--muted)]",children:[(0,t.jsx)("svg",{className:"w-16 h-16 mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"})}),(0,t.jsx)("p",{children:"„Çπ„É©„Ç§„Éâ„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô"})]})}function l({preview:e,onRemove:r}){return(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 bg-[#1a1a1a] border border-[var(--border)] rounded-lg p-2",children:[(0,t.jsx)("img",{src:e,alt:"Upload preview",className:"h-16 w-auto rounded"}),(0,t.jsx)("button",{type:"button",onClick:r,className:"p-1 hover:bg-[#333] rounded transition-colors",title:"ÁîªÂÉè„ÇíÂâäÈô§",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-[var(--muted)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function d(){let[e,n]=(0,r.useState)([]),[d,c]=(0,r.useState)(!1),[x,m]=(0,r.useState)([]),[u,h]=(0,r.useState)([]),[p,g]=(0,r.useState)(null),[b,v]=(0,r.useState)(null),[j,f]=(0,r.useState)(null),[w,y]=(0,r.useState)(null),[N,k]=(0,r.useState)(null),[S,C]=(0,r.useState)(!1),T=(0,r.useRef)(null);(0,r.useEffect)(()=>{T.current?.scrollIntoView({behavior:"smooth"})},[e,x,u]);let L=async e=>{let t={id:Date.now().toString(),role:"user",content:e,timestamp:new Date,image:b||void 0};n(e=>[...e,t]),c(!0),m([]),h([]),y(null),k(null),v(null);try{let t=await fetch("/api/agent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,imageBase64:b,sessionId:j})});if(!t.ok)throw Error("Agent request failed");let r=t.body?.getReader(),s=new TextDecoder;if(!r)throw Error("No response body");let a="";for(;;){let{done:e,value:t}=await r.read();if(e)break;let n=(a+=s.decode(t,{stream:!0})).split("\n");for(let e of(a=n.pop()||"",n))if(e.trim())try{let t=JSON.parse(e);P(t)}catch{}}}catch(t){console.error("Error:",t);let e={id:Date.now().toString(),role:"assistant",content:"„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ",timestamp:new Date};n(t=>[...t,e])}finally{c(!1)}},P=e=>{switch(e.type){case"session_start":f(e.sessionId||null);break;case"thought":e.content&&h(t=>[...t,{id:Date.now().toString(),content:e.content,timestamp:new Date}]);break;case"tool_start":m(t=>[...t,{id:Date.now().toString(),name:e.tool||"unknown",status:"running",startTime:new Date,input:e.input}]);break;case"tool_end":m(t=>t.map(t=>t.name===e.tool&&"running"===t.status?{...t,status:e.status||"completed",result:e.result,endTime:new Date}:t));break;case"waiting_feedback":y({question:e.question||"",pptxPath:e.pptxPath,backgroundPath:e.backgroundPath}),e.pptxPath&&(g(e.pptxPath),C(!0));break;case"message":let t={id:Date.now().toString(),role:"assistant",content:e.content||"",timestamp:new Date};n(e=>[...e,t]);break;case"error":let r={id:Date.now().toString(),role:"assistant",content:e.content||"„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ",timestamp:new Date};n(e=>[...e,r]);break;case"pptx_generated":e.pptxPath&&(g(e.pptxPath),C(!0)),y(null);break;case"tracing_summary":k({totalTokens:e.totalTokens||0,inputTokens:e.inputTokens||0,outputTokens:e.outputTokens||0,totalCost:e.totalCost||0});break;case"done":y(null)}};return(0,t.jsxs)("div",{className:"flex h-screen",children:[(0,t.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,t.jsxs)("header",{className:"flex items-center justify-between px-6 py-4 border-b border-[var(--border)] bg-white/50 backdrop-blur-sm",children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-[var(--foreground)]",children:"NanoBanana PPTX Generator"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[p&&(0,t.jsx)("button",{onClick:()=>C(!S),className:`px-3 py-1.5 text-sm rounded-lg transition-colors border border-[var(--border)] ${S?"bg-[var(--primary)] text-white border-transparent":"bg-white hover:bg-gray-50 text-[var(--foreground)]"}`,children:S?"„Éó„É¨„Éì„É•„Éº„ÇíÈñâ„Åò„Çã":"„Éó„É¨„Éì„É•„Éº„ÇíË°®Á§∫"}),j&&(0,t.jsxs)("span",{className:"text-sm text-[var(--muted)]",children:["Session: ",j]})]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[0===e.length&&!d&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center text-[var(--muted)]",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"üçå"}),(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2 text-[var(--foreground)]",children:"„Éó„É¨„Çº„É≥„ÉÜ„Éº„Ç∑„Éß„É≥„Çí‰ΩúÊàê„Åó„Åæ„Åó„Çá„ÅÜ"}),(0,t.jsx)("p",{children:"‰ΩúÊàê„Åó„Åü„ÅÑ„Çπ„É©„Ç§„Éâ„ÅÆÂÜÖÂÆπ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"ÂèÇÁÖßÁîªÂÉè„Çí„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Åô„Çã„Åì„Å®„ÇÇ„Åß„Åç„Åæ„Åô„ÄÇ"})]}),e.map(e=>(0,t.jsx)(s,{message:e},e.id)),(x.length>0||u.length>0)&&(0,t.jsx)(i,{executions:x,thoughts:u,waitingFeedback:w,tracingSummary:N}),d&&0===x.length&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[var(--muted)]",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-[var(--primary)] rounded-full animate-pulse"}),(0,t.jsx)("span",{children:"„Ç®„Éº„Ç∏„Çß„É≥„Éà„ÇíËµ∑Âãï‰∏≠..."})]}),(0,t.jsx)("div",{ref:T})]}),b&&(0,t.jsx)("div",{className:"px-6 py-2 border-t border-[var(--border)] bg-white/50",children:(0,t.jsx)(l,{preview:b,onRemove:()=>{v(null)}})}),(0,t.jsx)("div",{className:"p-6 border-t border-[var(--border)] bg-white/50",children:(0,t.jsx)(a,{onSend:L,onImageUpload:e=>{v(e)},disabled:d})})]}),S&&p&&(0,t.jsxs)("div",{className:"w-[600px] flex flex-col bg-gray-50 border-l border-[var(--border)] shadow-xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[var(--border)] bg-white",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-[var(--foreground)]",children:"„Éó„É¨„Éì„É•„Éº"}),(0,t.jsx)("button",{onClick:()=>{C(!1)},className:"p-1 hover:bg-gray-100 rounded transition-colors text-[var(--muted)] hover:text-[var(--foreground)]",title:"Èñâ„Åò„Çã",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,t.jsx)(o,{pptxPath:p,sessionId:j})})]})]})}e.s(["default",()=>d],31713)}]);